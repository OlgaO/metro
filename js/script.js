!function t(e,n,r){function o(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return o(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){"use strict";var r=function(){function t(t,e,n){var r=L.control.UniForm(e,n||null,{collapsed:!1,position:"topright"});r.addTo(t.getMap()),r.renderUniformControl()}return t}();n.LayerControl=r;var o=function(){function t(t){var e=t.getOverlay(),n=t.getMap(),r=new L.Polyline([],{color:"red"});r.addTo(n);var o=new L.CircleMarker([60,30]);e.addEventListener("click",function(t){if(t.shiftKey){var e=n.containerPointToLatLng(new L.Point(t.x,t.y));r.addLatLng(e).redraw(),o.on("mouseout",function(t){return o.closePopup()}),o.addTo(n);var i=r.getLatLngs();if(i.length>1){for(var s=0,a=1;a<i.length;++a)s+=i[a-1].distanceTo(i[a]);L.popup().setLatLng(e).setContent("Popup").openOn(n)}}})}return t}();n.Measurement=o},{}],2:[function(t,e,n){"use strict";var r=t("./metro-map"),o=t("./tilelayers");t("./polyfills")();new r("map-container","json/graph.json",o);!function(){var t=["Plan metro Sankt-Peterburga","Pietarin metron hankesuunnitelma","St Petersburg metro plan proposal"],e=0;setInterval(function(){return document.title=t[++e%t.length]},3e3)}(),console.log("user: "+navigator.userLanguage),console.log("language: "+navigator.language),console.log("browser: "+navigator.browserLanguage),console.log("system: "+navigator.systemLanguage)},{"./metro-map":3,"./polyfills":4,"./tilelayers":6}],3:[function(t,e,n){"use strict";var r=window.L,o=t("./svg"),i=t("./util"),s=t("./addons"),a=function(){function t(t,e,n){var o=this,i=this.fetch(e),a=this.fetch("json/hints.json");this.map=new r.Map(t,{layers:n.Mapbox||n[Object.keys(n).toString()],center:new r.LatLng(60,30),zoom:11,minZoom:9,inertia:!1}).addControl(new r.Control.Scale({imperial:!1})),new s.LayerControl(this,n),console.log("map should be created by now"),this.addOverlay(),this.addListeners(),i.then(function(t){return o.handleJSON(t)}).then(function(){return a}).then(function(t){return o.appendHintsToGraph(t)}).then(function(){return o.redrawNetwork()})["catch"](function(t){return alert(t)})}return t.prototype.getMap=function(){return this.map},t.prototype.getOverlay=function(){return this.overlay},t.prototype.addOverlay=function(){this.overlay=document.getElementById("overlay"),this.overlay.id="overlay",this.overlay.style.fill="white",this.overlay.style.zIndex="10"},t.prototype.addListeners=function(){var t=this,e=this.map.getPanes().mapPane;this.map.on("movestart",function(e){return t.map.touchZoom.disable()}),this.map.on("move",function(n){t.overlay.style.transform=e.style.transform}),this.map.on("moveend",function(n){t.map.touchZoom.enable();var r=i.parseTransform(e.style.transform);t.overlay.style.transform=e.style.transform="translate("+r.x+"px, "+r.y+"px)"}),this.map.on("zoomstart",function(e){t.map.dragging.disable(),t.overlay.style.opacity="0.5"}),this.map.on("zoomend",function(e){t.redrawNetwork(),t.overlay.style.opacity=null,t.map.dragging.enable()})},t.prototype.fetch=function(t){return new Promise(function(e,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&(200===r.status?e(r.responseText):n("couldn't fetch "+t+": "+r.status+": "+r.statusText))},r.open("GET",t,!0),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send()})},t.prototype.handleJSON=function(t){this.graph=JSON.parse(t),this.extendBounds(),this.map.setView(this.bounds.getCenter(),11,{pan:{animate:!1},zoom:{animate:!1}})},t.prototype.appendHintsToGraph=function(t){this.graph.hints=JSON.parse(t),console.log(this.graph.hints)},t.prototype.refillSVG=function(){for(var t=void 0;t=this.overlay.firstChild;)this.overlay.removeChild(t);var e=o.createSVGElement("defs");e.id="defs",e.appendChild(o.makeDropShadow()),this.overlay.appendChild(e);var n=o.createSVGElement("g");n.id="origin",["paths","transfers","station-circles","dummy-circles"].forEach(function(t){var e=o.createSVGElement("g");e.id=t,n.appendChild(e)}),this.overlay.appendChild(n);var r=document.getElementById("station-circles");r.classList.add("station-circle"),n.insertBefore(o.makePlate(),r.nextElementSibling)},t.prototype.extendBounds=function(){var t=this,e=this.graph.platforms[0].location;this.bounds=new r.LatLngBounds(e,e),this.graph.platforms.forEach(function(e){return t.bounds.extend(e.location)})},t.showPlate=function(t){var e=t.target,n=i.getSVGDataset(e),r=document.getElementById(n.platformId||n.stationId),s=o.modifyPlate(r);s.style.display=null},t.prototype.posOnSVG=function(t,e){var n=this.map.latLngToContainerPoint(e);return n.subtract(t.min)},t.prototype.updatePos=function(){var t=this.bounds.getNorthWest(),e=this.bounds.getSouthEast(),n=new r.Bounds(this.map.latLngToContainerPoint(t),this.map.latLngToContainerPoint(e)),o=i.parseTransform(this.overlay.style.transform),s=n.getSize(),a=n.min.subtract(o).subtract(s);this.overlay.style.left=a.x+"px",this.overlay.style.top=a.y+"px";var c=s,u=document.getElementById("origin");u.style.transform="translate("+c.x+"px, "+c.y+"px)";var l=s.multiplyBy(3);this.overlay.style.width=l.x+"px",this.overlay.style.height=l.y+"px"},t.prototype.redrawNetwork=function(){var e=this,n=this;this.refillSVG(),this.updatePos();for(var s={"station-circles":document.createDocumentFragment(),"dummy-circles":document.createDocumentFragment(),transfers:document.createDocumentFragment(),paths:document.createDocumentFragment()},a=document.getElementById("station-plate"),c=new Array(this.graph.platforms.length),u=this.map.getZoom(),l=this.bounds.getNorthWest(),f=this.bounds.getSouthEast(),p=new r.Bounds(this.map.latLngToContainerPoint(l),this.map.latLngToContainerPoint(f)),h=12>u?function(t){return n.posOnSVG(p,n.graph.stations[t.station].location)}:function(t){return n.posOnSVG(p,t.location)},d=this.graph.platforms.map(h),y=.5*(u-7),_=12>u?1.25*y:y,m=.4*_,g=y,v=new Set,b=function(r){var l=e.graph.stations[r],f=i.findCircle(e.graph,l),p=[];if(l.platforms.forEach(function(e){var i=n.graph.platforms[e],l=d[e];if(u>9){var h=o.makeCircle(l,_);o.convertToStation(h,"p-"+e,i,m),h.setAttribute("data-station",r.toString());var y=o.makeCircle(l,2*_);y.classList.add("invisible-circle"),y.setAttribute("data-platformId",h.id),y.onmouseover=t.showPlate,y.onmouseout=function(t){return a.style.display="none"},s["station-circles"].appendChild(h),s["dummy-circles"].appendChild(y)}if(2===i.spans.length)!function(){var t=[l,l],r=[0,0],o=n.graph.spans[i.spans[0]];o.source===e&&i.spans.reverse();for(var s=0;2>s;++s){var a=n.graph.spans[i.spans[s]],u=a.source===e?a.target:a.source,f=(n.graph.platforms[u],d[u]);r[s]=l.distanceTo(f),t[s]=l.add(f).divideBy(2)}var p=t[1].subtract(t[0]).multiplyBy(r[0]/(r[0]+r[1])),h=t[0].add(p),y=l.subtract(h);c[e]=t.map(function(t){return t.add(y)})}();else if(3===i.spans.length){for(var g=[],b=[],x=0;3>x;++x){var w=n.graph.spans[i.spans[x]];if(w.source===e){var S=(n.graph.platforms[w.target],d[w.target]);g.push(S)}else{var S=(n.graph.platforms[w.source],d[w.source]);b.push(S)}}var j=1===b.length?b[0]:b[0].add(b[1]).divideBy(2),O=1===g.length?g[0]:g[0].add(g[1]).divideBy(2),P=l.distanceTo(j),E=l.distanceTo(O),T=l.add(j).divideBy(2),A=l.add(O).divideBy(2),L=A.subtract(T).multiplyBy(P/(P+E)),C=T.add(L),k=l.subtract(C);c[e]=[T.add(k),A.add(k)]}else c[e]=[l,l];f&&f.indexOf(i)>-1&&(p.push(l),v.add(e))}),u>11&&f){var h=i.getCircumcenter(p),y=h.distanceTo(p[0]),b=o.makeTransferRing(h,y,g,m);s.transfers.appendChild(b)}},x=0;x<this.graph.stations.length;++x)b(x);u>11&&this.graph.transfers.forEach(function(t){if(!v.has(t.source)||!v.has(t.target)){var e=n.graph.platforms[t.source],r=n.graph.platforms[t.target],i=[n.posOnSVG(p,e.location),n.posOnSVG(p,r.location)],a=o.makeTransfer(i[0],i[1],g,m);s.transfers.appendChild(a)}});for(var w=0;w<this.graph.spans.length;++w){var S=this.graph.spans[w],j=S.source,O=S.target,P=(this.graph.platforms[j],this.graph.platforms[O],o.makeCubicBezier([d[j],c[j][1],c[O][0],d[O]])),E=S.routes.map(function(t){return n.graph.routes[t]}),T=E[0].line.match(/[MEL](\d{1,2})/);P.style.strokeWidth=y.toString(),T&&P.classList.add(T[0]),P.classList.add(E[0].line.charAt(0)+"-line"),s.paths.appendChild(P)}Object.keys(s).forEach(function(t){return document.getElementById(t).appendChild(s[t])})},t}();e.exports=a},{"./addons":1,"./svg":5,"./util":7}],4:[function(t,e,n){"use strict";function r(){"Promise"in window&&"then"in Promise.prototype&&"catch"in Promise.prototype||(console.log("promises not present, using a polyfill"),t("es6-promise").polyfill()),"Set"in window&&"add"in Set.prototype&&"has"in Set.prototype||(console.log("set not present, using a polyfill"),t("es6-set/implement")),"classList"in HTMLElement.prototype||(console.log("classlist not present, using a polyfill"),t("classlist-polyfill"))}e.exports=r},{"classlist-polyfill":9,"es6-promise":10,"es6-set/implement":11}],5:[function(t,e,n){"use strict";function r(t,e){var n=c("circle");return n.setAttribute("r",e.toString()),n.setAttribute("cy",t.y.toString()),n.setAttribute("cx",t.x.toString()),n}function o(t,e,n,r){t.id=e,t.style.strokeWidth=r+"px",d.setSVGDataset(t,{lat:n.location.lat,lng:n.location.lng,ru:n.name,fi:n.altName})}function i(t){if(4!==t.length)throw new Error("there should be 4 points");var e=c("path"),n=t.map(function(t){return t.x+","+t.y});return n.unshift("M"),n.splice(2,0,"C"),e.setAttribute("d",n.join(" ")),e}function s(t,e,n,o){var i=c("g");i.classList.add("transfer");var s=.5*o;return[n+s,n-s].forEach(function(n){var o=r(t,e);o.style.strokeWidth=n+"px",i.appendChild(o)}),i}function a(t,e,n,r){var o=c("g");o.classList.add("transfer");var i=.5*r;return[n+i,n-i].forEach(function(n){var r=c("line");r.setAttribute("x1",t.x.toString()),r.setAttribute("y1",t.y.toString()),r.setAttribute("x2",e.x.toString()),r.setAttribute("y2",e.y.toString()),r.style.strokeWidth=n+"px",o.appendChild(r)}),o}function c(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function u(){var t=c("filter");return t.id="shadow",t.setAttribute("width","200%"),t.setAttribute("height","200%"),t.innerHTML='\n        <feOffset result="offOut" in="SourceAlpha" dx="0" dy="2" />\n        <feGaussianBlur result="blurOut" in="offOut" stdDeviation="2" />\n        <feBlend in="SourceGraphic" in2="blurOut" mode="normal" />\n    ',t}function l(){var t=c("g");return t.id="station-plate",t.style.display="none",t.innerHTML='<line id="pole" class="plate-pole"/>\n            <g>\n                <rect id="plate-box" class="plate-box" filter="url(#shadow)"/>\n                <text id="plate-text" fill="black" class="plate-text"><tspan/><tspan/><tspan/></text>\n            </g>',t}function f(t){var e=document.getElementById("station-plate"),n=new h.Point(Number(t.getAttribute("cx")),Number(t.getAttribute("cy"))),r=Number(t.getAttribute("r")),o=Math.trunc(r),i=e.children[0],s=new h.Point(4+o,8+o),a=n.subtract(s);i.setAttribute("x1",n.x.toString()),i.setAttribute("y1",n.y.toString()),i.setAttribute("x2",a.x.toString()),i.setAttribute("y2",a.y.toString());var c=d.getSVGDataset(t),u=c.ru,l=c.fi,f=l?"fi"===d.getUserLanguage()?[l,u]:[u,l]:[u];return u in d.englishStationNames&&f.push(d.englishStationNames[u]),p(a,f),e}function p(t,e){var n=document.getElementById("plate-box"),r=12,o=e.reduce(function(t,e){return t.length<e.length?e:t}),i=new h.Point(10+6*o.length,6+r*e.length);n.setAttribute("width",i.x.toString()),n.setAttribute("height",i.y.toString());var s=t.subtract(i);n.setAttribute("x",s.x.toString()),n.setAttribute("y",s.y.toString());for(var a=document.getElementById("plate-text"),c=0;c<e.length;++c){var u=t.subtract(new h.Point(3,i.y-(c+1)*r)),l=a.children[c];l.setAttribute("x",u.x.toString()),l.setAttribute("y",u.y.toString()),l.textContent=e[c]}for(;c<a.children.length;++c)a.children[c].textContent=null}var h=window.L,d=t("./util");n.makeCircle=r,n.convertToStation=o,n.makeCubicBezier=i,n.makeTransferRing=s,n.makeTransfer=a,n.createSVGElement=c,n.makeDropShadow=u,n.makePlate=l,n.modifyPlate=f},{"./util":7}],6:[function(t,e,n){"use strict";var r=window.L,o={Maxbox:function(){return new r.TileLayer("https://{s}.tiles.mapbox.com/v3/inker.mlo91c41/{z}/{x}/{y}.png",{minZoom:9,id:"inker.mlo91c41",bounds:null,attribution:'Map data &copy; <a href="https://openstreetmap.org">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://mapbox.com">Mapbox</a>'})}(),OpenMapSurfer:function(){return new r.TileLayer("http://openmapsurfer.uni-hd.de/tiles/roads/x={x}&y={y}&z={z}",{minZoom:9,attribution:'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'})}(),HyddaBase:r.tileLayer("http://{s}.tile.openstreetmap.se/hydda/base/{z}/{x}/{y}.png",{minZoom:9,attribution:'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),EsriGrey:r.tileLayer("http://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ",maxZoom:16})};e.exports=o},{}],7:[function(t,e,n){"use strict";function r(){return(navigator.userLanguage||navigator.language).slice(0,2).toLowerCase()}function o(t){var e=t.match(/translate(3d)?\((-?\d+).*?,\s?(-?\d+).*?(,\s?(-?\d+).*?)?\)/i);return e?new f.Point(Number(e[2]),Number(e[3])):new f.Point(0,0)}function i(t,e){if(3!==e.platforms.length)return null;var n=e.platforms.map(function(e){return t.platforms[e]});return n.every(function(t){return 2===t.transfers.length})?n:null}function s(t){if(3!==t.length)throw new Error("must have 3 vertices");console.log(t[1]);var e=t[1].subtract(t[0]),n=t[2].subtract(t[0]),r=e.x*e.x+e.y*e.y,o=n.x*n.x+n.y*n.y;return new f.Point(n.y*r-e.y*o,e.x*o-n.x*r).divideBy(2*(e.x*n.y-e.y*n.x)).add(t[0])}function a(t){if("dataset"in t)return t.dataset;for(var e=t.attributes,n={},r=0;r<e.length;++r){var o=e[r].name;o.startsWith("data-")&&(n[o.slice(5)]=t.getAttribute(o))}return n}function c(t,e){Object.keys(e).forEach(function(n){return t.setAttribute("data-"+n,e[n])})}function u(t,e){return t.x*e.x+t.y*e.y}function l(t,e){return u(t,e)/t.distanceTo(e)}var f=window.L;n.getUserLanguage=r,n.parseTransform=o,n.findCircle=i,n.getCircumcenter=s,n.getSVGDataset=a,n.setSVGDataset=c,n.englishStationNames={"Centraľnyj voxal":"Central Raiway Station",Aeroport:"Airport"},n.dot=u,n.angle=l},{}],8:[function(t,e,n){function r(){l=!1,a.length?u=a.concat(u):f=-1,u.length&&o()}function o(){if(!l){var t=setTimeout(r);l=!0;for(var e=u.length;e;){for(a=u,u=[];++f<e;)a[f].run();f=-1,e=u.length}a=null,l=!1,clearTimeout(t)}}function i(t,e){this.fun=t,this.array=e}function s(){}var a,c=e.exports={},u=[],l=!1,f=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new i(t,e)),1!==u.length||l||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=s,c.addListener=s,c.once=s,c.off=s,c.removeListener=s,c.removeAllListeners=s,c.emit=s,c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],9:[function(t,e,n){"document"in window.self&&("classList"in document.createElement("_")?!function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,r=arguments.length;for(n=0;r>n;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}t=null}():!function(t){"use strict";if("Element"in t){var e="classList",n="prototype",r=t.Element[n],o=Object,i=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[n].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},c=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},u=function(t){for(var e=i.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],r=0,o=n.length;o>r;r++)this.push(n[r]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},l=u[n]=[],f=function(){return new u(this)};if(a[n]=Error[n],l.item=function(t){return this[t]||null},l.contains=function(t){return t+="",-1!==c(this,t)},l.add=function(){var t,e=arguments,n=0,r=e.length,o=!1;do t=e[n]+"",-1===c(this,t)&&(this.push(t),o=!0);while(++n<r);o&&this._updateClassName()},l.remove=function(){var t,e,n=arguments,r=0,o=n.length,i=!1;do for(t=n[r]+"",e=c(this,t);-1!==e;)this.splice(e,1),i=!0,e=c(this,t);while(++r<o);i&&this._updateClassName()},l.toggle=function(t,e){t+="";var n=this.contains(t),r=n?e!==!0&&"remove":e!==!1&&"add";return r&&this[r](t),e===!0||e===!1?e:!n},l.toString=function(){return this.join(" ")},o.defineProperty){var p={get:f,enumerable:!0,configurable:!0};try{o.defineProperty(r,e,p)}catch(h){-2146823252===h.number&&(p.enumerable=!1,o.defineProperty(r,e,p))}}else o[n].__defineGetter__&&r.__defineGetter__(e,f)}}(window.self))},{}],10:[function(t,e,n){(function(n,r){(function(){"use strict";function o(t){return"function"==typeof t||"object"==typeof t&&null!==t}function i(t){return"function"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){q=t}function c(t){J=t}function u(){var t=n.nextTick,e=n.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(e)&&"0"===e[1]&&"10"===e[2]&&(t=setImmediate),function(){t(d)}}function l(){return function(){W(d)}}function f(){var t=0,e=new $(d),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function p(){var t=new MessageChannel;return t.port1.onmessage=d,function(){t.port2.postMessage(0)}}function h(){return function(){setTimeout(d,1)}}function d(){for(var t=0;Y>t;t+=2){var e=et[t],n=et[t+1];e(n),et[t]=void 0,et[t+1]=void 0}Y=0}function y(){try{var e=t,n=e("vertx");return W=n.runOnLoop||n.runOnContext,l()}catch(r){return h()}}function _(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function g(){return new TypeError("A promises callback cannot return that same promise.")}function v(t){try{return t.then}catch(e){return it.error=e,it}}function b(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function x(t,e,n){J(function(t){var r=!1,o=b(n,e,function(n){r||(r=!0,e!==n?j(t,n):P(t,n))},function(e){r||(r=!0,E(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,E(t,o))},t)}function w(t,e){e._state===rt?P(t,e._result):e._state===ot?E(t,e._result):T(e,void 0,function(e){j(t,e)},function(e){E(t,e)})}function S(t,e){if(e.constructor===t.constructor)w(t,e);else{var n=v(e);n===it?E(t,it.error):void 0===n?P(t,e):i(n)?x(t,e,n):P(t,e)}}function j(t,e){t===e?E(t,m()):o(e)?S(t,e):P(t,e)}function O(t){t._onerror&&t._onerror(t._result),A(t)}function P(t,e){t._state===nt&&(t._result=e,t._state=rt,0!==t._subscribers.length&&J(A,t))}function E(t,e){t._state===nt&&(t._state=ot,t._result=e,J(O,t))}function T(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+rt]=n,o[i+ot]=r,0===i&&t._state&&J(A,t)}function A(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,o,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?k(n,r,o,i):o(i);t._subscribers.length=0}}function L(){this.error=null}function C(t,e){try{return t(e)}catch(n){return st.error=n,st}}function k(t,e,n,r){var o,s,a,c,u=i(n);if(u){if(o=C(n,r),o===st?(c=!0,s=o.error,o=null):a=!0,e===o)return void E(e,g())}else o=r,a=!0;e._state!==nt||(u&&a?j(e,o):c?E(e,s):t===rt?P(e,o):t===ot&&E(e,o))}function I(t,e){try{e(function(e){j(t,e)},function(e){E(t,e)})}catch(n){E(t,n)}}function M(t,e){var n=this;n._instanceConstructor=t,n.promise=new t(_),n._validateInput(e)?(n._input=e,n.length=e.length,n._remaining=e.length,n._init(),0===n.length?P(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&P(n.promise,n._result))):E(n.promise,n._validationError())}function D(t){return new at(this,t).promise}function N(t){function e(t){j(o,t)}function n(t){E(o,t)}var r=this,o=new r(_);if(!Z(t))return E(o,new TypeError("You must pass an array to race.")),o;for(var i=t.length,s=0;o._state===nt&&i>s;s++)T(r.resolve(t[s]),void 0,e,n);return o}function B(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(_);return j(n,t),n}function z(t){var e=this,n=new e(_);return E(n,t),n}function G(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function R(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function V(t){this._id=pt++,this._state=void 0,this._result=void 0,this._subscribers=[],_!==t&&(i(t)||G(),this instanceof V||R(),I(this,t))}function F(){var t;if("undefined"!=typeof r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(t.Promise=ht)}var H;H=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var W,q,U,Z=H,Y=0,J=({}.toString,function(t,e){et[Y]=t,et[Y+1]=e,Y+=2,2===Y&&(q?q(d):U())}),X="undefined"!=typeof window?window:void 0,K=X||{},$=K.MutationObserver||K.WebKitMutationObserver,Q="undefined"!=typeof n&&"[object process]"==={}.toString.call(n),tt="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,et=new Array(1e3);U=Q?u():$?f():tt?p():void 0===X&&"function"==typeof t?y():h();var nt=void 0,rt=1,ot=2,it=new L,st=new L;M.prototype._validateInput=function(t){return Z(t)},M.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},M.prototype._init=function(){this._result=new Array(this.length)};var at=M;M.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,r=t._input,o=0;n._state===nt&&e>o;o++)t._eachEntry(r[o],o)},M.prototype._eachEntry=function(t,e){var n=this,r=n._instanceConstructor;s(t)?t.constructor===r&&t._state!==nt?(t._onerror=null,n._settledAt(t._state,e,t._result)):n._willSettleAt(r.resolve(t),e):(n._remaining--,n._result[e]=t)},M.prototype._settledAt=function(t,e,n){var r=this,o=r.promise;o._state===nt&&(r._remaining--,t===ot?E(o,n):r._result[e]=n),0===r._remaining&&P(o,r._result)},M.prototype._willSettleAt=function(t,e){var n=this;T(t,void 0,function(t){n._settledAt(rt,e,t)},function(t){n._settledAt(ot,e,t)})};var ct=D,ut=N,lt=B,ft=z,pt=0,ht=V;V.all=ct,V.race=ut,V.resolve=lt,V.reject=ft,V._setScheduler=a,V._setAsap=c,V._asap=J,V.prototype={constructor:V,then:function(t,e){var n=this,r=n._state;if(r===rt&&!t||r===ot&&!e)return this;var o=new this.constructor(_),i=n._result;if(r){var s=arguments[r-1];J(function(){k(r,o,s,i)})}else T(n,o,t,e);return o},"catch":function(t){return this.then(null,t)}};var dt=F,yt={Promise:ht,polyfill:dt};"function"==typeof define&&define.amd?define(function(){return yt}):"undefined"!=typeof e&&e.exports?e.exports=yt:"undefined"!=typeof this&&(this.ES6Promise=yt),dt()}).call(this)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:8}],11:[function(t,e,n){"use strict";t("./is-implemented")()||Object.defineProperty(t("es5-ext/global"),"Set",{value:t("./polyfill"),configurable:!0,enumerable:!1,writable:!0})},{"./is-implemented":12,"./polyfill":64,"es5-ext/global":19}],12:[function(t,e,n){"use strict";e.exports=function(){var t,e,n;return"function"!=typeof Set?!1:(t=new Set(["raz","dwa","trzy"]),3!==t.size?!1:"function"!=typeof t.add?!1:"function"!=typeof t.clear?!1:"function"!=typeof t["delete"]?!1:"function"!=typeof t.entries?!1:"function"!=typeof t.forEach?!1:"function"!=typeof t.has?!1:"function"!=typeof t.keys?!1:"function"!=typeof t.values?!1:(e=t.values(),n=e.next(),n.done!==!1?!1:"raz"!==n.value?!1:!0))}},{}],13:[function(t,e,n){"use strict";e.exports=function(){return"undefined"==typeof Set?!1:"[object Set]"===Object.prototype.toString.call(Set.prototype)}()},{}],14:[function(t,e,n){"use strict";var r,o=t("es5-ext/object/set-prototype-of"),i=t("es5-ext/string/#/contains"),s=t("d"),a=t("es6-iterator"),c=t("es6-symbol").toStringTag,u=Object.defineProperty;r=e.exports=function(t,e){return this instanceof r?(a.call(this,t.__setData__,t),e=e&&i.call(e,"key+value")?"key+value":"value",void u(this,"__kind__",s("",e))):new r(t,e)},o&&o(r,a),r.prototype=Object.create(a.prototype,{constructor:s(r),_resolve:s(function(t){return"value"===this.__kind__?this.__list__[t]:[this.__list__[t],this.__list__[t]]}),toString:s(function(){return"[object Set Iterator]"})}),u(r.prototype,c,s("c","Set Iterator"))},{d:16,"es5-ext/object/set-prototype-of":39,"es5-ext/string/#/contains":44,"es6-iterator":51,"es6-symbol":60}],15:[function(t,e,n){"use strict";var r,o=t("es5-ext/object/copy"),i=t("es5-ext/object/map"),s=t("es5-ext/object/valid-callable"),a=t("es5-ext/object/valid-value"),c=Function.prototype.bind,u=Object.defineProperty,l=Object.prototype.hasOwnProperty;r=function(t,e,n){var r,i=a(e)&&s(e.value);return r=o(e),delete r.writable,delete r.value,r.get=function(){return l.call(this,t)?i:(e.value=c.call(i,null==n?this:this[n]),u(this,t,e),this[t])},r},e.exports=function(t){var e=arguments[1];return i(t,function(t,n){return r(n,t,e)})}},{"es5-ext/object/copy":29,"es5-ext/object/map":37,"es5-ext/object/valid-callable":42,"es5-ext/object/valid-value":43}],16:[function(t,e,n){"use strict";var r,o=t("es5-ext/object/assign"),i=t("es5-ext/object/normalize-options"),s=t("es5-ext/object/is-callable"),a=t("es5-ext/string/#/contains");r=e.exports=function(t,e){var n,r,s,c,u;return arguments.length<2||"string"!=typeof t?(c=e,e=t,t=null):c=arguments[2],null==t?(n=s=!0,r=!1):(n=a.call(t,"c"),r=a.call(t,"e"),s=a.call(t,"w")),u={value:e,configurable:n,enumerable:r,writable:s},c?o(i(c),u):u},r.gs=function(t,e,n){var r,c,u,l;return"string"!=typeof t?(u=n,n=e,e=t,t=null):u=arguments[3],null==e?e=void 0:s(e)?null==n?n=void 0:s(n)||(u=n,n=void 0):(u=e,e=n=void 0),null==t?(r=!0,c=!1):(r=a.call(t,"c"),c=a.call(t,"e")),l={get:e,set:n,configurable:r,enumerable:c},u?o(i(u),l):l}},{"es5-ext/object/assign":26,"es5-ext/object/is-callable":32,"es5-ext/object/normalize-options":38,"es5-ext/string/#/contains":44}],17:[function(t,e,n){"use strict";var r=t("../../object/valid-value");e.exports=function(){return r(this).length=0,this}},{"../../object/valid-value":43}],18:[function(t,e,n){"use strict";var r=t("../../number/to-pos-integer"),o=t("../../object/valid-value"),i=Array.prototype.indexOf,s=Object.prototype.hasOwnProperty,a=Math.abs,c=Math.floor;e.exports=function(t){var e,n,u,l;if(t===t)return i.apply(this,arguments);for(n=r(o(this).length),u=arguments[1],u=isNaN(u)?0:u>=0?c(u):r(this.length)-c(a(u)),e=u;n>e;++e)if(s.call(this,e)&&(l=this[e],l!==l))return e;return-1}},{"../../number/to-pos-integer":24,"../../object/valid-value":43}],19:[function(t,e,n){"use strict";e.exports=new Function("return this")()},{}],20:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Math.sign:t("./shim")},{"./is-implemented":21,"./shim":22}],21:[function(t,e,n){"use strict";e.exports=function(){var t=Math.sign;return"function"!=typeof t?!1:1===t(10)&&-1===t(-20)}},{}],22:[function(t,e,n){"use strict";e.exports=function(t){return t=Number(t),isNaN(t)||0===t?t:t>0?1:-1}},{}],23:[function(t,e,n){"use strict";var r=t("../math/sign"),o=Math.abs,i=Math.floor;e.exports=function(t){return isNaN(t)?0:(t=Number(t),0!==t&&isFinite(t)?r(t)*i(o(t)):t)}},{"../math/sign":20}],24:[function(t,e,n){"use strict";var r=t("./to-integer"),o=Math.max;e.exports=function(t){return o(0,r(t))}},{"./to-integer":23}],25:[function(t,e,n){"use strict";var r=t("./is-callable"),o=t("./valid-callable"),i=t("./valid-value"),s=Function.prototype.call,a=Object.keys,c=Object.prototype.propertyIsEnumerable;e.exports=function(t,e){return function(n,u){var l,f=arguments[2],p=arguments[3];return n=Object(i(n)),o(u),l=a(n),p&&l.sort(r(p)?p.bind(n):void 0),l[t](function(t,r){return c.call(n,t)?s.call(u,f,n[t],t,n,r):e})}}},{"./is-callable":32,"./valid-callable":42,"./valid-value":43}],26:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Object.assign:t("./shim")},{"./is-implemented":27,"./shim":28}],27:[function(t,e,n){"use strict";e.exports=function(){var t,e=Object.assign;return"function"!=typeof e?!1:(t={foo:"raz"},e(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},{}],28:[function(t,e,n){"use strict";var r=t("../keys"),o=t("../valid-value"),i=Math.max;e.exports=function(t,e){var n,s,a,c=i(arguments.length,2);for(t=Object(o(t)),a=function(r){try{t[r]=e[r]}catch(o){n||(n=o)}},s=1;c>s;++s)e=arguments[s],r(e).forEach(a);if(void 0!==n)throw n;return t}},{"../keys":34,"../valid-value":43}],29:[function(t,e,n){"use strict";var r=t("./assign"),o=t("./valid-value");e.exports=function(t){var e=Object(o(t));return e!==t?e:r({},t)}},{"./assign":26,"./valid-value":43}],30:[function(t,e,n){"use strict";var r,o=Object.create;t("./set-prototype-of/is-implemented")()||(r=t("./set-prototype-of/shim")),e.exports=function(){var t,e,n;return r?1!==r.level?o:(t={},e={},n={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(t){return"__proto__"===t?void(e[t]={configurable:!0,enumerable:!1,writable:!0,value:void 0}):void(e[t]=n)}),Object.defineProperties(t,e),Object.defineProperty(r,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:t}),function(e,n){return o(null===e?t:e,n)}):o}()},{"./set-prototype-of/is-implemented":40,"./set-prototype-of/shim":41}],31:[function(t,e,n){"use strict";e.exports=t("./_iterate")("forEach")},{"./_iterate":25}],32:[function(t,e,n){"use strict";e.exports=function(t){return"function"==typeof t}},{}],33:[function(t,e,n){"use strict";var r={"function":!0,object:!0};e.exports=function(t){return null!=t&&r[typeof t]||!1}},{}],34:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Object.keys:t("./shim")},{"./is-implemented":35,"./shim":36}],35:[function(t,e,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},{}],36:[function(t,e,n){"use strict";var r=Object.keys;e.exports=function(t){return r(null==t?t:Object(t))}},{}],37:[function(t,e,n){"use strict";var r=t("./valid-callable"),o=t("./for-each"),i=Function.prototype.call;e.exports=function(t,e){var n={},s=arguments[2];return r(e),o(t,function(t,r,o,a){n[r]=i.call(e,s,t,r,o,a)}),n}},{"./for-each":31,"./valid-callable":42}],38:[function(t,e,n){"use strict";var r=Array.prototype.forEach,o=Object.create,i=function(t,e){var n;for(n in t)e[n]=t[n]};e.exports=function(t){var e=o(null);return r.call(arguments,function(t){null!=t&&i(Object(t),e)}),e}},{}],39:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Object.setPrototypeOf:t("./shim");

},{"./is-implemented":40,"./shim":41}],40:[function(t,e,n){"use strict";var r=Object.create,o=Object.getPrototypeOf,i={};e.exports=function(){var t=Object.setPrototypeOf,e=arguments[0]||r;return"function"!=typeof t?!1:o(t(e(null),i))===i}},{}],41:[function(t,e,n){"use strict";var r,o=t("../is-object"),i=t("../valid-value"),s=Object.prototype.isPrototypeOf,a=Object.defineProperty,c={configurable:!0,enumerable:!1,writable:!0,value:void 0};r=function(t,e){if(i(t),null===e||o(e))return t;throw new TypeError("Prototype must be null or an object")},e.exports=function(t){var e,n;return t?(2===t.level?t.set?(n=t.set,e=function(t,e){return n.call(r(t,e),e),t}):e=function(t,e){return r(t,e).__proto__=e,t}:e=function o(t,e){var n;return r(t,e),n=s.call(o.nullPolyfill,t),n&&delete o.nullPolyfill.__proto__,null===e&&(e=o.nullPolyfill),t.__proto__=e,n&&a(o.nullPolyfill,"__proto__",c),t},Object.defineProperty(e,"level",{configurable:!1,enumerable:!1,writable:!1,value:t.level})):null}(function(){var t,e=Object.create(null),n={},r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{t=r.set,t.call(e,n)}catch(o){}if(Object.getPrototypeOf(e)===n)return{set:t,level:2}}return e.__proto__=n,Object.getPrototypeOf(e)===n?{level:2}:(e={},e.__proto__=n,Object.getPrototypeOf(e)===n?{level:1}:!1)}()),t("../create")},{"../create":30,"../is-object":33,"../valid-value":43}],42:[function(t,e,n){"use strict";e.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},{}],43:[function(t,e,n){"use strict";e.exports=function(t){if(null==t)throw new TypeError("Cannot use null or undefined");return t}},{}],44:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?String.prototype.contains:t("./shim")},{"./is-implemented":45,"./shim":46}],45:[function(t,e,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"!=typeof r.contains?!1:r.contains("dwa")===!0&&r.contains("foo")===!1}},{}],46:[function(t,e,n){"use strict";var r=String.prototype.indexOf;e.exports=function(t){return r.call(this,t,arguments[1])>-1}},{}],47:[function(t,e,n){"use strict";var r=Object.prototype.toString,o=r.call("");e.exports=function(t){return"string"==typeof t||t&&"object"==typeof t&&(t instanceof String||r.call(t)===o)||!1}},{}],48:[function(t,e,n){"use strict";var r,o=t("es5-ext/object/set-prototype-of"),i=t("es5-ext/string/#/contains"),s=t("d"),a=t("./"),c=Object.defineProperty;r=e.exports=function(t,e){return this instanceof r?(a.call(this,t),e=e?i.call(e,"key+value")?"key+value":i.call(e,"key")?"key":"value":"value",void c(this,"__kind__",s("",e))):new r(t,e)},o&&o(r,a),r.prototype=Object.create(a.prototype,{constructor:s(r),_resolve:s(function(t){return"value"===this.__kind__?this.__list__[t]:"key+value"===this.__kind__?[t,this.__list__[t]]:t}),toString:s(function(){return"[object Array Iterator]"})})},{"./":51,d:16,"es5-ext/object/set-prototype-of":39,"es5-ext/string/#/contains":44}],49:[function(t,e,n){"use strict";var r=t("es5-ext/object/valid-callable"),o=t("es5-ext/string/is-string"),i=t("./get"),s=Array.isArray,a=Function.prototype.call;e.exports=function(t,e){var n,c,u,l,f,p,h,d,y=arguments[2];if(s(t)?n="array":o(t)?n="string":t=i(t),r(e),u=function(){l=!0},"array"===n)return void t.some(function(t){return a.call(e,y,t,u),l?!0:void 0});if("string"!==n)for(c=t.next();!c.done;){if(a.call(e,y,c.value,u),l)return;c=t.next()}else for(p=t.length,f=0;p>f&&(h=t[f],p>f+1&&(d=h.charCodeAt(0),d>=55296&&56319>=d&&(h+=t[++f])),a.call(e,y,h,u),!l);++f);}},{"./get":50,"es5-ext/object/valid-callable":42,"es5-ext/string/is-string":47}],50:[function(t,e,n){"use strict";var r=t("es5-ext/string/is-string"),o=t("./array"),i=t("./string"),s=t("./valid-iterable"),a=t("es6-symbol").iterator;e.exports=function(t){return"function"==typeof s(t)[a]?t[a]():r(t)?new i(t):new o(t)}},{"./array":48,"./string":58,"./valid-iterable":59,"es5-ext/string/is-string":47,"es6-symbol":53}],51:[function(t,e,n){"use strict";var r,o=t("es5-ext/array/#/clear"),i=t("es5-ext/object/assign"),s=t("es5-ext/object/valid-callable"),a=t("es5-ext/object/valid-value"),c=t("d"),u=t("d/auto-bind"),l=t("es6-symbol"),f=Object.defineProperty,p=Object.defineProperties;e.exports=r=function(t,e){return this instanceof r?(p(this,{__list__:c("w",a(t)),__context__:c("w",e),__nextIndex__:c("w",0)}),void(e&&(s(e.on),e.on("_add",this._onAdd),e.on("_delete",this._onDelete),e.on("_clear",this._onClear)))):new r(t,e)},p(r.prototype,i({constructor:c(r),_next:c(function(){var t;if(this.__list__)return this.__redo__&&(t=this.__redo__.shift(),void 0!==t)?t:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:c(function(){return this._createResult(this._next())}),_createResult:c(function(t){return void 0===t?{done:!0,value:void 0}:{done:!1,value:this._resolve(t)}}),_resolve:c(function(t){return this.__list__[t]}),_unBind:c(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:c(function(){return"[object Iterator]"})},u({_onAdd:c(function(t){if(!(t>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void f(this,"__redo__",c("c",[t]));this.__redo__.forEach(function(e,n){e>=t&&(this.__redo__[n]=++e)},this),this.__redo__.push(t)}}),_onDelete:c(function(t){var e;t>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(e=this.__redo__.indexOf(t),-1!==e&&this.__redo__.splice(e,1),this.__redo__.forEach(function(e,n){e>t&&(this.__redo__[n]=--e)},this)))}),_onClear:c(function(){this.__redo__&&o.call(this.__redo__),this.__nextIndex__=0})}))),f(r.prototype,l.iterator,c(function(){return this})),f(r.prototype,l.toStringTag,c("","Iterator"))},{d:16,"d/auto-bind":15,"es5-ext/array/#/clear":17,"es5-ext/object/assign":26,"es5-ext/object/valid-callable":42,"es5-ext/object/valid-value":43,"es6-symbol":53}],52:[function(t,e,n){"use strict";var r=t("es5-ext/string/is-string"),o=t("es6-symbol").iterator,i=Array.isArray;e.exports=function(t){return null==t?!1:i(t)?!0:r(t)?!0:"function"==typeof t[o]}},{"es5-ext/string/is-string":47,"es6-symbol":53}],53:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Symbol:t("./polyfill")},{"./is-implemented":54,"./polyfill":56}],54:[function(t,e,n){"use strict";e.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(e){return!1}return"symbol"==typeof Symbol.iterator?!0:"object"!=typeof Symbol.isConcatSpreadable?!1:"object"!=typeof Symbol.iterator?!1:"object"!=typeof Symbol.toPrimitive?!1:"object"!=typeof Symbol.toStringTag?!1:"object"!=typeof Symbol.unscopables?!1:!0}},{}],55:[function(t,e,n){"use strict";e.exports=function(t){return t&&("symbol"==typeof t||"Symbol"===t["@@toStringTag"])||!1}},{}],56:[function(t,e,n){"use strict";var r,o,i=t("d"),s=t("./validate-symbol"),a=Object.create,c=Object.defineProperties,u=Object.defineProperty,l=Object.prototype,f=a(null),p=function(){var t=a(null);return function(e){for(var n,r=0;t[e+(r||"")];)++r;return e+=r||"",t[e]=!0,n="@@"+e,u(l,n,i.gs(null,function(t){u(this,n,i(t))})),n}}();o=function h(t){if(this instanceof o)throw new TypeError("TypeError: Symbol is not a constructor");return h(t)},e.exports=r=function d(t){var e;if(this instanceof d)throw new TypeError("TypeError: Symbol is not a constructor");return e=a(o.prototype),t=void 0===t?"":String(t),c(e,{__description__:i("",t),__name__:i("",p(t))})},c(r,{"for":i(function(t){return f[t]?f[t]:f[t]=r(String(t))}),keyFor:i(function(t){var e;s(t);for(e in f)if(f[e]===t)return e}),hasInstance:i("",r("hasInstance")),isConcatSpreadable:i("",r("isConcatSpreadable")),iterator:i("",r("iterator")),match:i("",r("match")),replace:i("",r("replace")),search:i("",r("search")),species:i("",r("species")),split:i("",r("split")),toPrimitive:i("",r("toPrimitive")),toStringTag:i("",r("toStringTag")),unscopables:i("",r("unscopables"))}),c(o.prototype,{constructor:i(r),toString:i("",function(){return this.__name__})}),c(r.prototype,{toString:i(function(){return"Symbol ("+s(this).__description__+")"}),valueOf:i(function(){return s(this)})}),u(r.prototype,r.toPrimitive,i("",function(){return s(this)})),u(r.prototype,r.toStringTag,i("c","Symbol")),u(o.prototype,r.toPrimitive,i("c",r.prototype[r.toPrimitive])),u(o.prototype,r.toStringTag,i("c",r.prototype[r.toStringTag]))},{"./validate-symbol":57,d:16}],57:[function(t,e,n){"use strict";var r=t("./is-symbol");e.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}},{"./is-symbol":55}],58:[function(t,e,n){"use strict";var r,o=t("es5-ext/object/set-prototype-of"),i=t("d"),s=t("./"),a=Object.defineProperty;r=e.exports=function(t){return this instanceof r?(t=String(t),s.call(this,t),void a(this,"__length__",i("",t.length))):new r(t)},o&&o(r,s),r.prototype=Object.create(s.prototype,{constructor:i(r),_next:i(function(){return this.__list__?this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind():void 0}),_resolve:i(function(t){var e,n=this.__list__[t];return this.__nextIndex__===this.__length__?n:(e=n.charCodeAt(0),e>=55296&&56319>=e?n+this.__list__[this.__nextIndex__++]:n)}),toString:i(function(){return"[object String Iterator]"})})},{"./":51,d:16,"es5-ext/object/set-prototype-of":39}],59:[function(t,e,n){"use strict";var r=t("./is-iterable");e.exports=function(t){if(!r(t))throw new TypeError(t+" is not iterable");return t}},{"./is-iterable":52}],60:[function(t,e,n){arguments[4][53][0].apply(n,arguments)},{"./is-implemented":61,"./polyfill":62,dup:53}],61:[function(t,e,n){"use strict";e.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(e){return!1}return"symbol"==typeof Symbol.iterator?!0:"object"!=typeof Symbol.isConcatSpreadable?!1:"object"!=typeof Symbol.isRegExp?!1:"object"!=typeof Symbol.iterator?!1:"object"!=typeof Symbol.toPrimitive?!1:"object"!=typeof Symbol.toStringTag?!1:"object"!=typeof Symbol.unscopables?!1:!0}},{}],62:[function(t,e,n){"use strict";var r,o,i=t("d"),s=Object.create,a=Object.defineProperties;r=function(){var t=s(null);return function(e){for(var n=0;t[e+(n||"")];)++n;return e+=n||"",t[e]=!0,"@@"+e}}(),e.exports=o=function(t){var e;if(this instanceof o)throw new TypeError("TypeError: Symbol is not a constructor");return e=s(o.prototype),t=void 0===t?"":String(t),a(e,{__description__:i("",t),__name__:i("",r(t))})},Object.defineProperties(o,{create:i("",o("create")),hasInstance:i("",o("hasInstance")),isConcatSpreadable:i("",o("isConcatSpreadable")),isRegExp:i("",o("isRegExp")),iterator:i("",o("iterator")),toPrimitive:i("",o("toPrimitive")),toStringTag:i("",o("toStringTag")),unscopables:i("",o("unscopables"))}),a(o.prototype,{properToString:i(function(){return"Symbol ("+this.__description__+")"}),toString:i("",function(){return this.__name__})}),Object.defineProperty(o.prototype,o.toPrimitive,i("",function(t){throw new TypeError("Conversion of symbol objects is not allowed")})),Object.defineProperty(o.prototype,o.toStringTag,i("c","Symbol"))},{d:16}],63:[function(t,e,n){"use strict";var r,o,i,s,a,c,u,l=t("d"),f=t("es5-ext/object/valid-callable"),p=Function.prototype.apply,h=Function.prototype.call,d=Object.create,y=Object.defineProperty,_=Object.defineProperties,m=Object.prototype.hasOwnProperty,g={configurable:!0,enumerable:!1,writable:!0};r=function(t,e){var n;return f(e),m.call(this,"__ee__")?n=this.__ee__:(n=g.value=d(null),y(this,"__ee__",g),g.value=null),n[t]?"object"==typeof n[t]?n[t].push(e):n[t]=[n[t],e]:n[t]=e,this},o=function(t,e){var n,o;return f(e),o=this,r.call(this,t,n=function(){i.call(o,t,n),p.call(e,this,arguments)}),n.__eeOnceListener__=e,this},i=function(t,e){var n,r,o,i;if(f(e),!m.call(this,"__ee__"))return this;if(n=this.__ee__,!n[t])return this;if(r=n[t],"object"==typeof r)for(i=0;o=r[i];++i)(o===e||o.__eeOnceListener__===e)&&(2===r.length?n[t]=r[i?0:1]:r.splice(i,1));else(r===e||r.__eeOnceListener__===e)&&delete n[t];return this},s=function(t){var e,n,r,o,i;if(m.call(this,"__ee__")&&(o=this.__ee__[t]))if("object"==typeof o){for(n=arguments.length,i=new Array(n-1),e=1;n>e;++e)i[e-1]=arguments[e];for(o=o.slice(),e=0;r=o[e];++e)p.call(r,this,i)}else switch(arguments.length){case 1:h.call(o,this);break;case 2:h.call(o,this,arguments[1]);break;case 3:h.call(o,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,i=new Array(n-1),e=1;n>e;++e)i[e-1]=arguments[e];p.call(o,this,i)}},a={on:r,once:o,off:i,emit:s},c={on:l(r),once:l(o),off:l(i),emit:l(s)},u=_({},c),e.exports=n=function(t){return null==t?d(u):_(Object(t),c)},n.methods=a},{d:16,"es5-ext/object/valid-callable":42}],64:[function(t,e,n){"use strict";var r,o,i=t("es5-ext/array/#/clear"),s=t("es5-ext/array/#/e-index-of"),a=t("es5-ext/object/set-prototype-of"),c=t("es5-ext/object/valid-callable"),u=t("d"),l=t("event-emitter"),f=t("es6-symbol"),p=t("es6-iterator/valid-iterable"),h=t("es6-iterator/for-of"),d=t("./lib/iterator"),y=t("./is-native-implemented"),_=Function.prototype.call,m=Object.defineProperty;e.exports=r=function(){var t=arguments[0];if(!(this instanceof r))return new r(t);if(void 0!==this.__setData__)throw new TypeError(this+" cannot be reinitialized");null!=t&&p(t),m(this,"__setData__",u("c",[])),t&&h(t,function(t){-1===s.call(this,t)&&this.push(t)},this.__setData__)},y&&(a&&a(r,Set),r.prototype=Object.create(Set.prototype,{constructor:u(r)})),l(Object.defineProperties(r.prototype,{add:u(function(t){return this.has(t)?this:(this.emit("_add",this.__setData__.push(t)-1,t),this)}),clear:u(function(){this.__setData__.length&&(i.call(this.__setData__),this.emit("_clear"))}),"delete":u(function(t){var e=s.call(this.__setData__,t);return-1===e?!1:(this.__setData__.splice(e,1),this.emit("_delete",e,t),!0)}),entries:u(function(){return new d(this,"key+value")}),forEach:u(function(t){var e,n,r,o=arguments[1];for(c(t),e=this.values(),n=e._next();void 0!==n;)r=e._resolve(n),_.call(t,o,r,r,this),n=e._next()}),has:u(function(t){return-1!==s.call(this.__setData__,t)}),keys:u(o=function(){return this.values()}),size:u.gs(function(){return this.__setData__.length}),values:u(function(){return new d(this)}),toString:u(function(){return"[object Set]"})})),m(r.prototype,f.iterator,u(o)),m(r.prototype,f.toStringTag,u("c","Set"))},{"./is-native-implemented":13,"./lib/iterator":14,d:16,"es5-ext/array/#/clear":17,"es5-ext/array/#/e-index-of":18,"es5-ext/object/set-prototype-of":39,"es5-ext/object/valid-callable":42,"es6-iterator/for-of":49,"es6-iterator/valid-iterable":59,"es6-symbol":60,"event-emitter":63}]},{},[2]);